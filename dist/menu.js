!function(e){function t(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=function(){function e(t){s(this,e),this.config(t);var n=this.settings.selectors;if(this.menu=document.getElementById(n.menu_id),!this.menu)return void console.error("unable to find the menu with selector: "+n.menu);if(this.menuitems=this.menu.querySelectorAll(n.menuitem+" a"),this.submenus=this.menu.querySelectorAll(n.submenu),this.menuitems.length)for(var i=0;i<this.menuitems.length;i++)this.menuitems[i].addEventListener("click",this.onMenuItemClick.bind(this));if(this.submenus.length)for(var i=0;i<this.submenus.length;i++)this.calculateMaxHeight(this.submenus[i]);if(this.toggleButtons=document.querySelectorAll(n.toggle_button),this.toggleButtons.length)for(var i=0;i<this.toggleButtons.length;i++)this.toggleButtons[i].addEventListener("click",this.toggle.bind(this));if(this.openButtons=document.querySelectorAll(n.open_button),this.openButtons.length)for(var i=0;i<this.openButtons.length;i++)this.openButtons[i].addEventListener("click",this.open.bind(this));if(this.closeButtons=document.querySelectorAll(n.close_button),this.closeButtons.length)for(var i=0;i<this.closeButtons.length;i++)this.closeButtons[i].addEventListener("click",this.close.bind(this));document.addEventListener("touchstart",this.onTouchStart.bind(this),!1),document.addEventListener("touchmove",this.onTouchMove.bind(this),!1),document.addEventListener("mousedown",function(e){for(var t=!0,n=0;n<e.path.length;n++)(e.path[n].id==this.settings.selectors.menu_id||e.path[n].classList&&e.path[n].classList.contains("menu-toggle-button"))&&(t=!1);t&&this.close()}.bind(this))}return i(e,[{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.settings||{submenu:{can_open_multiple:!1},selectors:{menu_id:"main-menu",menuitem:"li",submenu:".menu-item > ul",toggle_button:".menu-toggle-button",open_button:".menu-open-button",close_button:".menu-close-button"}};for(var n in t)e[n]&&(t[n]=e[n]);return this.settings=t,console.log("Config::",this.settings),this}},{key:"onMenuItemClick",value:function(e){var t=e.target.parentNode.querySelector(this.settings.selectors.submenu);if(!t)return void this.close();e.preventDefault(),this.toggleSubmenu(t)}},{key:"toggle",value:function(){if(this.menu.classList.toggle("active"),document.body.classList.toggle("scroll-disabled"),document.body.classList.toggle("menu-open"),!this.menu.classList.contains("active"))for(var e=0;e<this.submenus.length;e++)this.closeSubmenu(this.submenus[e])}},{key:"open",value:function(){this.menu.classList.add("active"),document.body.classList.add("scroll-disabled"),document.body.classList.add("menu-open")}},{key:"close",value:function(){for(var e=0;e<this.submenus.length;e++)this.closeSubmenu(this.submenus[e]);this.menu.classList.remove("active"),document.body.classList.remove("scroll-disabled"),document.body.classList.remove("menu-open")}},{key:"toggleSubmenu",value:function(e){e.classList.contains("active")||this.can_open_multiple(this.closest(e,e.className)),e.classList.toggle("active")}},{key:"openSubmenu",value:function(e){this.can_open_multiple(),e.classList.add("active")}},{key:"closeSubmenu",value:function(e){e.classList.remove("active")}},{key:"onTouchStart",value:function(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY}},{key:"onTouchMove",value:function(e){if(this.xDown&&this.yDown){var t=e.touches[0].clientX,n=e.touches[0].clientY,s=this.xDown-t,i=this.yDown-n;Math.abs(s)>Math.abs(i)?s>0?this.onSwipeLeft():this.onSwipeRight():i>0?this.onSwipeUp():this.onSwipeDown(),this.xDown=null,this.yDown=null}}},{key:"onSwipeLeft",value:function(){this.close()}},{key:"onSwipeRight",value:function(){this.open()}},{key:"onSwipeUp",value:function(){}},{key:"onSwipeDown",value:function(){}},{key:"can_open_multiple",value:function(e){if(!this.settings.submenu.can_open_multiple)for(var t=0;t<this.submenus.length;t++)e!=this.submenus[t]&&this.closeSubmenu(this.submenus[t])}},{key:"calculateMaxHeight",value:function(e){e.classList.add("active");for(var t=(e.children,0);t<this.menuitems.length;t++)this.closest(this.menuitems[t],"sub-menu")&&(this.menuitems[t].parentNode.style.maxHeight=this.menuitems[t].clientHeight+"px");e.classList.remove("active")}},{key:"closest",value:function(e,t){return!(!e.parentNode||!e.parentNode.className)&&(-1!=e.parentNode.className.indexOf(t)?e.parentNode:this.closest(e.parentNode,t))}}]),e}();t.default=o},function(e,t,n){"use strict";var s=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(s);e.exports=i.default}]);